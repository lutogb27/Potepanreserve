<h3>予約済み施設一覧</h3>

<section class="section">
  <table class="reservation_ichiran">
    <thead>
        <tr>
        <th>施設画面</th>
        <th>施設名</th>
        <th>施設紹介</th>
        <th>合計金額</th>
        <th>チェックイン日</th>
        <th>チェックアウト日</th>
        <th>予約確定日時</th>
        <th>削除</th>
        </tr>
    </thead>
    <tbody>
    <% if @reservations.count > 0 %>
      <% @reservations.each do |reservation| %>
        <tr>
          <td><% if reservation.room.room_image?%>
                <p><%= image_tag reservation.room.room_image.url, class: "icon", style: "width: 200px; height: 100px; object-fit:cover;" %></p>
              <% else %>
                <p><%= image_tag 'https://rails-02-sample.herokuapp.com/assets/room/default-image-4e0ac6b8d01335b5b22fe6586af13644ae51dddb6aeabf35b9174e80f13cd09d.png',class: "icon", style: "width: 200px; height: 100px; object-fit:cover;" %></p>
              <% end %></td>      
          <td><%= reservation.room.room_name %></td>
          <td><%= reservation.room.introduction %></td>
          <td>¥<%= reservation.total_price.to_s(:delimited) %></td>
          <td><%= reservation.checkin_at.to_s(:datetime_jp) %></td>
          <td><%= reservation.checkout_at.to_s(:datetime_jp) %></td>
          <td><%= reservation.created_at.to_s(:datetime_jp_detail) %></td>
          <td>
            <%= button_to "予約を削除" , reservation , method: :delete , data: { comfilm: "本当に削除しますか？" } %>
          </td>
        </tr>
      <% end %>
    <% else %>
      <td colspan="9">現在登録している施設はありません</td>
    <% end %>
    </tbody>
  </table>
</section>
